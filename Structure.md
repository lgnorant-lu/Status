# 项目结构文档

## 概述
本文档描述了 `Status` 项目的当前文件和目录结构。每个主要模块都附有简要描述和状态标记。

**状态标记说明:**
- `[已完成]`：模块功能完整，文档和测试齐全。
- `[进行中]`：模块正在积极开发中。
- `[计划中]`：模块已规划，但尚未开始开发。
- `[待补全]`：模块存在，但描述、功能细节或文档需要补充。
- `[核心模块]`：项目的核心功能组件。
- `[工具模块]`：辅助开发或项目管理工具。
- `[配置模块]`：包含配置文件或配置相关逻辑。
- `[资源模块]`：存放静态资源。
- `[测试模块]`：包含测试代码。
- `[文档模块]`：包含项目文档。
- `[日志模块]`：存放日志文件。
- `[示例模块]`：包含示例代码或演示。

---

## 根目录结构

```
.
├── .git/                       # Git版本控制目录 [配置模块]
├── .gitignore                  # Git忽略文件配置 [配置模块] [已完成]
├── .pytest_cache/              # Pytest缓存目录 [测试模块]
├── .tasks/                     # RIPER-5任务文件目录 [工具模块]
├── .vscode/                    # VS Code编辑器配置 [配置模块]
├── assets/                     # 静态资源 (图像, 音频, 字体等) [资源模块] [待补全]
│   └── ... (空或待添加新主题资源)
├── Diagrams/                   # 项目图表 (Graphviz Python脚本) [文档模块] [进行中]
│   ├── Architecture/           # 架构图 [待补全]
│   ├── Algorithms/             # 算法图 [待补全]
│   ├── DataModels/             # 数据模型图 [待补全]
│   ├── Flowcharts/             # 流程图 [待补全]
│   └── Modules/                # 模块图 [待补全]
├── docs/                       # 项目详细文档 [文档模块] [进行中]
│   ├── api/                    # API文档 [待补全]
│   ├── developer/              # 开发者文档 [待补全]
│   ├── overview/               # 项目概览文档 [待补全]
│   ├── user/                   # 用户手册 [待补全]
│   ├── Diagrams/               # 文档用图表副本 [待补全]
│   ├── changelog.md            # 项目变更日志 [待补全]
│   ├── contributing.md         #贡献指南 [待补全]
│   ├── index.md                # 文档首页 [待补全]
│   ├── README.md               # Docs模块说明 [待补全]
│   ├── roadmap.md              # 项目路线图 [待补全]
│   └── ui_design_guide.md      # UI设计规范 [待补全]
├── Logs/                       # 详细开发日志 [日志模块] [进行中]
│   ├── 2025-04-17_project_cleanup_phase1.md # 项目清理日志 [已完成]
│   └── ... (其他日志文件)
├── status/                     # 项目核心应用代码 [核心模块] [进行中]
│   ├── __init__.py             # 包初始化文件
│   ├── behavior/               # 桌宠行为逻辑 [进行中]
│   │   └── ... [待补全]
│   ├── core/                   # 核心基础模块 (事件、配置等) [进行中]
│   │   └── ... [待补全]
│   ├── interaction/            # 用户交互处理 (鼠标、键盘、命令等) [进行中]
│   │   ├── __init__.py
│   │   ├── base_interaction_handler.py # 交互处理基类 [待补全]
│   │   ├── behavior_trigger.py         # 行为触发器 [待补全]
│   │   ├── context_menu.py           # 上下文菜单逻辑 [待补全]
│   │   ├── drag_manager.py           # 拖拽管理器 [待补全]
│   │   ├── event_filter.py           # 事件过滤器 [待补全]
│   │   ├── event_throttler.py        # 事件节流器 [待补全]
│   │   ├── hotkey_manager.py         # 热键管理器 [待补全]
│   │   ├── interaction_event.py      # 交互事件定义 [待补全]
│   │   ├── interaction_manager.py    # 交互总管理器 (Linter错误待处理) [进行中]
│   │   └── mouse_interaction.py      # 鼠标交互处理 [待补全]
│   ├── main.py                 # 应用主入口 [核心模块] [进行中]
│   ├── monitoring/             # 系统监控模块 [计划中]
│   │   └── ... [待补全]
│   ├── renderer/               # 渲染逻辑 (动画、UI元素等) [进行中]
│   │   └── ... [待补全]
│   ├── resources/              # 运行时资源管理 [进行中]
│   │   └── ... [待补全]
│   ├── scenes/                 # 场景管理 [进行中]
│   │   └── ... [待补全]
│   ├── ui/                     # 用户界面元素和逻辑 [进行中]
│   │   └── ... [待补全]
│   └── utils/                  # 通用工具函数 [进行中]
│       └── ... [待补全]
├── tests/                      # 测试代码 [测试模块] [进行中]
│   ├── __init__.py             # 包初始化文件
│   ├── conftest.py             # Pytest配置文件和fixtures [配置模块]
│   ├── mocks.py                # Mock对象定义 [待补全]
│   ├── run_tests.py            # 测试运行脚本 [工具模块]
│   ├── behavior/               # 行为模块测试 [待补全]
│   ├── core/                   # 核心模块测试 [待补全]
│   ├── interaction/            # 交互模块测试 [待补全]
│   ├── integration/            # 集成测试 [待补全]
│   ├── mocks/                  # (目录结构重复?) [待补全]
│   ├── monitoring/             # 监控模块测试 [待补全]
│   ├── renderer/               # 渲染模块测试 [进行中]
│   │   ├── test_drawable.py    # Drawable对象测试 [待补全]
│   │   └── test_effects.py     # 特效测试 [待补全]
│   ├── resources/              # 资源模块测试 [待补全]
│   ├── scenes/                 # 场景模块测试 [进行中]
│   │   └── test_scene_manager_transition.py # 场景切换测试 [待补全]
│   └── unit/                   # 单元测试 [待补全]
├── tools/                      # 辅助工具和脚本 [工具模块] [进行中]
│   ├── .git/                   # (嵌套Git仓库?)
│   ├── .gitignore              # 工具目录的Git忽略配置
│   ├── LICENSE                 # 工具许可证
│   ├── Plan.md                 # 工具开发计划 [待补全]
│   ├── README.md               # 工具模块说明
│   ├── build_resources.py      # Qt资源编译脚本 [待补全]
│   ├── icons/                  # 图标资源 [待补全]
│   ├── requirements.txt        # 工具依赖
│   ├── resources.py            # Qt资源模块 (Python) [待补全]
│   ├── resources.qrc           # Qt资源文件 (XML) [待补全]
│   ├── sprite_character_output/# 精灵处理输出目录 [待补全]
│   ├── sprite_editor/          # 精灵编辑器工具 [进行中]
│   │   └── ... [待补全]
│   └── sprite_extract_opencv.py # 使用OpenCV提取精灵的脚本 [待补全]
├── Design.md                   # 设计文档 (架构, 决策等) [文档模块] [进行中]
├── Development_Guidelines.md   # 开发规范文档 [文档模块] [进行中]
├── Diagram.md                  # 图表日志索引 [文档模块] [进行中]
├── Global.md                   # 全局宏定义与常量 [配置模块] [进行中]
├── Issues.md                   # 问题追踪文档 [文档模块] [进行中]
├── Log.md                      # 变更日志索引 [日志模块] [进行中]
├── README.md                   # 项目总览和入口说明 [文档模块] [已完成]
├── requirements.txt            # Python项目依赖 [配置模块] [进行中]
├── setup.py                    # 项目打包和分发脚本 [工具模块] [待补全]
└── Thread.md                   # 任务进程文档 [文档模块] [进行中]
```

---

## 模块功能详述

### 1. `status/` - 核心应用代码
- **描述**: 包含桌宠应用的主要逻辑代码，包括核心引擎、渲染、交互、行为、资源管理、UI等。
- **子模块**:
    - `behavior/`: 管理和实现桌宠的各种行为状态和逻辑。`[进行中]`
    - `core/`: 提供项目范围内的核心基础服务，如事件总线、配置管理、日志封装等。`[进行中]`
    - `interaction/`: 处理所有用户输入和系统交互，如鼠标点击/移动、键盘输入、系统命令等。`[进行中]`
    - `main.py`: 应用程序的主入口点，负责初始化和启动整个应用。`[核心模块] [进行中]`
    - `monitoring/`: (新规划) 负责监控系统性能、应用状态等。`[计划中]`
    - `renderer/`: 处理所有视觉元素的渲染，包括精灵、动画、UI组件等。`[进行中]`
    - `resources/`: 负责运行时资源的加载、管理和缓存。`[进行中]`
    - `scenes/`: 管理不同的应用场景或状态（如果项目需要）。`[进行中]`
    - `ui/`: 包含用户界面的构建块和特定于UI的逻辑。`[进行中]`
    - `utils/`: 提供项目内各模块可复用的通用工具函数和类。`[进行中]`

### 2. `tests/` - 测试代码
- **描述**: 包含项目的所有测试代码，包括单元测试、集成测试和功能测试。
- **结构**: 通常会按照 `status/` 目录结构镜像组织测试文件。`[进行中]`

### 3. `assets/` - 静态资源
- **描述**: 存放项目所需的所有静态资源，如图片、雪碧图、音频文件、字体等。目前在清理后等待新主题资源的加入。`[待补全]`

### 4. `Diagrams/` - 项目图表
- **描述**: 存放使用 Python Graphviz 库创建的各种项目图表，用于可视化架构、模块依赖、流程等。`[进行中]`

### 5. `docs/` - 项目文档
- **描述**: 包含所有详细的项目文档，如API文档、用户手册、开发者指南、设计决策等。`[进行中]`

### 6. `Logs/` - 开发日志
- **描述**: 记录详细的开发过程、变更历史、遇到的问题和解决方案。`[进行中]`

### 7. `tools/` - 辅助工具
- **描述**: 包含用于辅助开发、构建、资源处理等的脚本和工具。例如，精灵编辑器、资源编译脚本等。`[进行中]`

---
**注意**:
- `__pycache__/` 目录存在于多个位置，是Python解释器自动生成的字节码缓存，已在 `.gitignore` 中配置忽略，此处不详细列出。
- 标记为 `[待补全]` 的部分需要后续根据开发进度进行详细补充。
- `status/interaction/interaction_manager.py` 文件目前存在较多linter错误，已在 `Thread.md` 和详细日志中记录，需后续修复。